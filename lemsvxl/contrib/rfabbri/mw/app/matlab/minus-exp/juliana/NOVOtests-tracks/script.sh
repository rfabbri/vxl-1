# Script antigo

for i in $(seq 1 5); do mkdir gamma-P$i; for j in $(seq 1 500); do script -c "frpt=$(cat ../test-tracks/FRePTcorrigido.txt | sed -n "$(($i))p"); ../synthdata $frpt |./../minus-chicago -i -gt> out.txt" temp.txt; cat out.txt | cut -d '(' -f 2| cut -d ")" -f 1| sed -n '1,254p'>> gamma-P$i/gammas-P$i.txt; cat temp.txt | cut -d' ' -f3 | sed -n '46,357p' >> gamma-P$i/tracks-gamma-P$i.txt; grep "isvalid)" temp.txt | cut -d')' -f2 >> gamma-P$i/realsol-gamma-P$i.txt; echo '313,10'>> gamma-P$i/realsol-gamma-P$i.txt; solution=$(grep index temp.txt | cut -d : -f 2); if [ $solution -eq  ]; then solution=313; 
fi; echo $solution>> gamma-P$i/sol-gamma-P$i.txt; done;done

# Script atual (por segurança estou chamando cada câmera e cada ponto de uma variável)

for i in $(seq 1 4); do mkdir frpt-P$i; fr1=$(cat ../test-tracks/FRePTcorrigido.txt | sed -n "$(($i))p" |cut -d' ' -f1); fr2=$(cat ../test-tracks/FRePTcorrigido.txt | sed -n "$(($i))p" |cut -d' ' -f2); fr3=$(cat ../test-tracks/FRePTcorrigido.txt | sed -n "$(($i))p" |cut -d' ' -f3); pt1=$(cat ../test-tracks/FRePTcorrigido.txt | sed -n "$(($i))p" |cut -d' ' -f4); pt2=$(cat ../test-tracks/FRePTcorrigido.txt | sed -n "$(($i))p" |cut -d' ' -f5); pt3=$(cat ../test-tracks/FRePTcorrigido.txt | sed -n "$(($i))p" |cut -d' ' -f6); for j in $(seq 1 3); do script -c "../synthdata $frpt |./../minus-chicago -i -gt> out.txt" temp.txt; cat out.txt | cut -d '(' -f 2| cut -d ")" -f 1| sed -n '1,254p'>> frpt-P$i/gammas-P$i.txt; cat temp.txt | cut -d' ' -f3 | sed -n '51,362p' >> frpt-P$i/tracks-P$i.txt; grep "isvalid)" temp.txt | cut -d')' -f2 >> gamma-P$i/realsol-P$i.txt; echo '313,10'>> frpt-P$i/realsol-P$i.txt; solution=$(grep index temp.txt | cut -d : -f 2); if [ $solution -eq  ]; then solution=313; fi; echo $solution>> frpt-P$i/sol-P$i.txt; cat temp.txt | sed -n '2,3p' >> frpt-P$i/frpt-$i.txt; done;done
